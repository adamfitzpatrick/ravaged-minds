<div class="entity-detail" md-theme="content_page">

    <md-toolbar
        layout="row"
        layout-align="space-between center"
        ng-if="!vm.noHeader"
        class="content-page__toolbar"
        md-whiteframe="4">
        <div layout="column">
            <h1 class="content-page__title">{{ vm.entity.name }}</h1>
            <div class="content-page__descriptor">{{ vm.entity.getDescriptor() }}</div>
        </div>
        <md-button
            player-visible="false"
            ng-click="vm.togglePlayerVisibleThrottled()"
            class="md-fab"
        >
            <md-icon ng-if="vm.entity.playerVisible" class="material-icons">visibility</md-icon>
            <md-icon ng-if="!vm.entity.playerVisible" class="material-icons">visibility_off</md-icon>
        </md-button>
    </md-toolbar>

    <md-content class="content-page__content">
        <img class="entity-detail__image" ng-src="{{ vm.entity.imageUrl}}"/>
        <div class="entity-detail__abilities" layout="row">
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>STR</strong></div>
                <div>{{ vm.entity.strength }}</div>
            </div>
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>DEX</strong></div>
                <div>{{ vm.entity.dexterity }}</div>
            </div>
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>CON</strong></div>
                <div>{{ vm.entity.constitution }}</div>
            </div>
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>INT</strong></div>
                <div>{{ vm.entity.intelligence }}</div>
            </div>
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>WIS</strong></div>
                <div>{{ vm.entity.wisdom }}</div>
            </div>
            <div class="entity-detail__ability" layout="column" layout-align="center center">
                <div><strong>CHA</strong></div>
                <div>{{ vm.entity.charisma }}</div>
            </div>
        </div>

        <div class="entity-detail__specs" layout="row">
            <div flex="40">
                <div><strong>Armor Class</strong> {{ vm.entity.armorClass }}</div>
                <div><strong>Hit Points</strong> {{ vm.entity.hitPoints }}</div>
                <div><strong>Speed</strong> {{ vm.entity.speed }} ft.</div>
            </div>
            <div flex="60">
                <div>
                    <strong>Damage Resistances</strong>
                    <span ng-repeat="resistance in vm.entity.damageResistance">{{ resistance }}<span ng-if="!$last">, </span></span>
                </div>
                <div><strong>Senses</strong>
                    <span ng-repeat="sense in vm.entity.senses">{{ sense }}<span ng-if="!$last">, </span></span>
                </div>
                <div><strong>Languages</strong>
                    <span ng-repeat="language in vm.entity.languages">{{ language }}<span ng-if="!$last">, </span></span>
                </div>
                <div><strong>Challenge</strong> {{ vm.entity.challenge }}</div>
            </div>
        </div>

        <h2 ng-if="vm.entity.skills && vm.entity.skills.length">Skills</h2>

        <ul>
            <li ng-repeat="skill in vm.entity.skills">{{ skill }}</li>
        </ul>

        <h2 ng-if="vm.entity.features && vm.entity.features.length">Features</h2>

        <p ng-repeat="feature in vm.entity.features">
            <strong>{{ feature[0] }}:</strong>
            {{ feature[1] }}
        </p>

        <h2 ng-if="vm.entity.actions && vm.entity.actions.length">Actions</h2>

        <p ng-repeat="action in vm.entity.actions">
            <strong>{{ action[0] }}:</strong>
            {{ action[1] }}
        </p>

        <div ng-repeat="description in vm.entity.descriptions">
            <h2>{{ description[0] }}</h2>
            <div ng-bind-html="vm.getDescription(description[1])"></div>
        </div>

        <h2 ng-if="vm.entity.spells && vm.entity.spells.length">Spells</h2>
        <ul>
            <li ng-repeat="spell in vm.entity.spells">{{ spell }}</li>
        </ul>

        <div ng-if="!vm.noHeader" class="entity-detail__notes">
            <h2>Entity Notes</h2>
            <notes link-id="vm.entity.id" link-type="entity"></notes>
        </div>
    </md-content>
</div>
